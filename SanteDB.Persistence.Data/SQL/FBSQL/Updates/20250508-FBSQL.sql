/** 
 * <feature scope="SanteDB.Persistence.Data" id="20250508-01" name="Update:20250508-01"   invariantName="FirebirdSQL" >
 *	<summary>Update: Add states and status concepts for scheduled notifications</summary>
 *	<isInstalled>select ck_patch('20250508-01') from rdb$database</isInstalled>
 * </feature>
 */

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('1E029E45-734E-4514-9CA4-E1E487883562'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('1E029E45-734E-4514-9CA4-E1E487883562'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationState-Disabled', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('1E029E45-734E-4514-9CA4-E1E487883562'), vrsn_seq_id, 'EN', 'Disabled'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('1E029E45-734E-4514-9CA4-E1E487883562');--#!

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('AC843892-F7E0-47B6-8F84-11C14E7E96C6'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('AC843892-F7E0-47B6-8F84-11C14E7E96C6'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationState-NotYetRun', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('AC843892-F7E0-47B6-8F84-11C14E7E96C6'), vrsn_seq_id, 'EN', 'Not yet run'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('AC843892-F7E0-47B6-8F84-11C14E7E96C6');--#!

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('92455ACD-ECC2-4E89-9227-94B77B27420D'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('92455ACD-ECC2-4E89-9227-94B77B27420D'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationState-CompletedWithErrors', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('92455ACD-ECC2-4E89-9227-94B77B27420D'), vrsn_seq_id, 'EN', 'Completed with errors'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('92455ACD-ECC2-4E89-9227-94B77B27420D');--#!

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('2726BC79-A55A-4FEA-BE2C-627265872DB5'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('2726BC79-A55A-4FEA-BE2C-627265872DB5'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationState-CompletedSuccessfully', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('2726BC79-A55A-4FEA-BE2C-627265872DB5'), vrsn_seq_id, 'EN', 'Completed successfully'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('2726BC79-A55A-4FEA-BE2C-627265872DB5');--#!

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('0536DD0B-3418-4582-88EA-35EA6FC76595'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('0536DD0B-3418-4582-88EA-35EA6FC76595'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationState-Error', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('0536DD0B-3418-4582-88EA-35EA6FC76595'), vrsn_seq_id, 'EN', 'Error'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('0536DD0B-3418-4582-88EA-35EA6FC76595');--#!

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('0AC6638B-4E72-466A-A20F-1ADB3B8F2139'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('0AC6638B-4E72-466A-A20F-1ADB3B8F2139'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationStatus-Draft', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('0AC6638B-4E72-466A-A20F-1ADB3B8F2139'), vrsn_seq_id, 'EN', 'Draft'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('0AC6638B-4E72-466A-A20F-1ADB3B8F2139');--#!

INSERT INTO CD_TBL (CD_ID) VALUES (char_to_uuid('1FAFD226-CAD4-47F2-87E6-7C8F3E9E3B6F'));--#!
INSERT INTO CD_VRSN_TBL (CD_VRSN_ID, CD_ID, STS_CD_ID, CLS_ID, CRT_PROV_ID, CRT_UTC, MNEMONIC, HEAD) VALUES (gen_uuid(), char_to_uuid('1FAFD226-CAD4-47F2-87E6-7C8F3E9E3B6F'), char_to_uuid('C8064CBD-FA06-4530-B430-1A52F1530C27'), char_to_uuid('0D6B3439-C9BE-4480-AF39-EEB457C052D0'), char_to_uuid('FADCA076-3690-4A6E-AF9E-F1CD68E8C7E8'), CURRENT_TIMESTAMP, 'NotificationStatus-Published', TRUE);--#!
INSERT INTO CD_NAME_TBL (NAME_ID, CD_ID, EFFT_VRSN_SEQ_ID, LANG_CS, VAL) 
	SELECT gen_uuid(), char_to_uuid('1FAFD226-CAD4-47F2-87E6-7C8F3E9E3B6F'), vrsn_seq_id, 'EN', 'Published'
	FROM CD_VRSN_TBL WHERE CD_ID = char_to_uuid('1FAFD226-CAD4-47F2-87E6-7C8F3E9E3B6F');--#!

SELECT REG_PATCH('20250508-01') FROM RDB$DATABASE;